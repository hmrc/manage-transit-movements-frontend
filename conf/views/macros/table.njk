{% macro arrivalNotification(dataRows) %}

  {% for date, rows in dataRows %}

      <h2 class="govuk-heading-m">{{date}}</h2>

      <div class="govuk-summary-list govuk-!-margin-bottom-2">
            <div class="govuk-summary-list__row">
              <span class="govuk-summary-list__key govuk-!-width-full govuk-!-font-weight-bold">{{ messages("viewArrivalNotifications.table.updated") }}</span>
              <span class="govuk-summary-list__key govuk-!-width-full govuk-!-font-weight-bold">{{ messages("viewArrivalNotifications.table.mrn") }}</span>
              <span class="govuk-summary-list__key govuk-!-width-full govuk-!-font-weight-bold">{{ messages("viewArrivalNotifications.table.trader.name") }}</span>
              <span class="govuk-summary-list__key govuk-!-width-full govuk-!-font-weight-bold">{{ messages("viewArrivalNotifications.table.office") }}</span>
              <span class="govuk-summary-list__key govuk-!-width-full govuk-!-font-weight-bold">{{ messages("viewArrivalNotifications.table.procedure") }}</span>
              <span class="govuk-summary-list__key govuk-!-width-full govuk-!-font-weight-bold">{{ messages("viewArrivalNotifications.table.status") }}</span>
              <span class="govuk-summary-list__key govuk-!-width-full govuk-!-font-weight-bold">{{ messages("viewArrivalNotifications.table.action") }}</span>
            </div>

            {% for row in rows %}

                <div class="govuk-summary-list__row">
                  <span class="govuk-summary-list__value govuk-!-width-full">{{ row.updated }}</span>
                  <span class="govuk-summary-list__value govuk-!-width-full">{{ row.mrn }}</span>
                  <span class="govuk-summary-list__value govuk-!-width-full">{{ row.traderName | safe }}</span>
                  <span class="govuk-summary-list__value govuk-!-width-full">{{ row.office }}</span>
                  <span class="govuk-summary-list__value govuk-!-width-full">{{ row.procedure }}</span>
                  <span class="govuk-summary-list__value govuk-!-width-full">{{ row.status  }}</span>
                  <span class="govuk-summary-list__value govuk-!-width-full">

                    {% for action in row.actions %}
                      {% if action == "errors" %}
                        <a href="">
                            {{ messages("viewArrivalNotifications.table.action.viewErrors") }}
                            <span class="govuk-visually-hidden"> for {{ row.mrn }}</span>
                        </a>
                      {% endif %}
                      {% if action == "history" %}
                        <a href="">
                            {{ messages("viewArrivalNotifications.table.action.viewHistory") }}
                            <span class="govuk-visually-hidden"> for {{ row.mrn }}</span>
                        </a>
                      {% endif %}
                      {% if action == "unloading" %}
                        <a href="">
                            {{ messages("viewArrivalNotifications.table.action.unloadingRemarks") }}
                            <span class="govuk-visually-hidden"> for {{ row.mrn }}</span>
                        </a>
                      {% endif %}
                    {% endfor %}
                  </span>
                </div>

           {% endfor %}
           </div>
    {% endfor %}

{% endmacro %}
