{% macro arrivalNotification(dataRows) %}

  {% for date, rows in dataRows %}

      <h2 class="govuk-heading-m">{{date}}</h2>

<table class="responsive-table">
     <caption class="govuk-visually-hidden">Arrival notifications table</caption>
        <thead>
              <tr>
                  <th scope="col">{{messages("viewArrivalNotifications.table.updated")}}</th>
                  <th scope="col">{{messages("viewArrivalNotifications.table.mrn")}}</th>
                  <th scope="col">{{messages("viewArrivalNotifications.table.status")}}</th>
                  <th scope="col" class="action-col">{{messages("viewArrivalNotifications.table.action")}}</th>
               </tr>
        </thead>

       <tbody class="hmrc-responsive-table__data">
       {% for row in rows %}
           <tr role="row">
                <td role="cell">
                    <span class="responsive-table__heading" aria-hidden="true">{{ messages("viewArrivalNotifications.table.updated") }}</span>
                    {{ row.updated }}
                </td>
                <td role="cell">
                    <span class="responsive-table__heading" aria-hidden="true">{{ messages("viewArrivalNotifications.table.mrn") }}</span>
                   {{ row.mrn }}
                </td>
                <td role="cell">
                    <span class="responsive-table__heading" aria-hidden="true">{{ messages("viewArrivalNotifications.table.status") }}</span>
                    {{ messages(row.status) }}
                </td>
                <td role="cell">
                    <span class="responsive-table__heading" aria-hidden="true">{{ messages("viewArrivalNotifications.table.action") }}</span>


                            {% for action in row.actions %}
                                    {% set dash = joiner("-") %}
                                    <a id="{{ messages(action.key) | replace(" ", "-")  }}-{{ row.mrn }}" href=" {{ action.href }} " class="action-link">
                                        <span aria-hidden="true">{{ messages(action.key) }}</span>
                                        <span class="govuk-visually-hidden"> {{ messages(action.key) }} for {{ row.mrn }}</span>
                                    </a>
                            {% endfor %}
                </td>
           </tr>

           {% endfor %}
    </tbody>
</table>

    {% endfor %}

{% endmacro %}


{% macro departureNotification(dataRows) %}

    {% for date, rows in dataRows %}

        <h2 class="govuk-heading-m">{{date}}</h2>

<table class="responsive-table">
     <caption class="govuk-visually-hidden">Departures notifications table</caption>
        <thead>
              <tr>
                  <th scope="col">{{ messages("viewDepartures.table.updated") }}</th>
                  <th scope="col">{{ messages("viewDepartures.table.lrn") }}</th>
                  <th scope="col">{{ messages("viewDepartures.table.status") }}</th>
                  <th scope="col" class="action-col">{{ messages("viewDepartures.table.action") }}</th>
               </tr>
        </thead>

       <tbody class="hmrc-responsive-table__data">
       {% for row in rows %}
           <tr role="row">
                <td role="cell">
                    <span class="responsive-table__heading" aria-hidden="true">{{ messages("viewDepartures.table.updated") }}</span>
                    {{ row.updatedTime }}
                </td>
                <td role="cell">
                    <span class="responsive-table__heading" aria-hidden="true">{{ messages("viewDepartures.table.lrn") }}</span>
                   {{ row.localReferenceNumber }}
                </td>
                <td role="cell">
                    <span class="responsive-table__heading" aria-hidden="true">{{ messages("viewDepartures.table.status") }}</span>
                    {{ messages(row.status) }}
                </td>
                <td role="cell">
                    <span class="responsive-table__heading" aria-hidden="true">{{ messages("viewDepartures.table.action") }}</span>


                            {% for action in row.actions %}
                                    <a id="{{ messages(action.key) | replace(" ", "-")  }}-{{ row.localReferenceNumber }}" href=" {{ action.href }} " class="action-link">
                                        <span aria-hidden="true">{{ messages(action.key) }}</span>
                                        <span class="govuk-visually-hidden">  {{ messages(action.key) }} for {{ row.localReferenceNumber }}</span>
                                    </a>
                 {% endfor %}
                </td>
           </tr>

           {% endfor %}
    </tbody>
</table>
    {% endfor %}
{% endmacro %}
